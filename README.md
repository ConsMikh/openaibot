# Порядок развертывания бота
1. Настроить бота телеграм, получить его токен 
Для этого в Telegram существует специальный бот — @BotFather. Пишем ему /start и получаем список всех его команд. Первая и главная — /newbot — отправляем ему и бот просит придумать имя нашему новому боту. Единственное ограничение на имя — оно должно оканчиваться на «bot». В случае успеха BotFather возвращает токен бота.
1. Получить доступ к API OpenAI
Самая сложная часть, так доступ к API с территории России заблокирован.<br>
Можно воспользоваться инстукциями<br>
[Как оплатить ChatGPT](https://dzen.ru/a/ZBmbwIEH5UfGiHbR)
[Покупка виртуальных карт](https://wanttopay.net/)
1. Настроить VDS
VDS должен иметь НЕроссийкий IP-адрес. Иначе запросы бота будут блокироваться. 
Для личного использования достаточно минимально возможных системных требований (1 ядро, 1 Гб оперативной памяти)
1. Установить на VDS Docker и Git
[Инструкция по установке Docker](https://docs.docker.com/engine/install/)
[Инструкция по установке Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
1. Создать папку для работы бота и перейти в нее
2. Клонировать репозиторий в папку
```
$ git clone https://github.com/ConsMikh/openaibot.git
```
1. Перейти в папку openaibot/docker и создать файл .env. В этот файл надо записать токены телеграм бота из шага 1 и api open ai из шага два
```
$ cd openaibot/docker
$ nano .env
 ```
OPENAI_API_KEY=[ключ к API Open-AI]<br>
OPENAI_CHAT_BOT=[ключ для доступа к боту телеграм]<br>
Для сохранения выполнить Ctrl+O, Enter<br>
1. Для запуска бота выполнить команду
```
$ docker compose up -d
```

# Команды, используемые при работе бота
/clear - очистить сессию (остается только системный промт)<br>
/model - выбрать модель для сессии. Считается, что все перечисленные модели доступны по api<br>Если модель недоступна в перечне моделей в личном кабинете api open ai, то выбирать ее бесполезно<br>
/context - выбрать режим работы с контекстом<br>Доступны два режима:<br>
- сбрасывать контекст - режим подойдет для простых вопросов (например, перевод фразы с одного языка на другой), перед следующим вопросом контекст удалится и останется только системный промт
- накапливать контекст - режим подойдет для беседы, когда важно, чтобы модель запоминала ранее выданные ответы
/system [текст] - поменять системный промт на [текст] (сессия будет очищена)<br>
/session - вывести информацию о сессии<br>
/t, /т, /tokens - вывести количество токенов в текущей сессии


[История версий](docs\Version_history.md)
[Misc](docs\Misc.md)

